<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Title</title>
        <style>
            html,
            body,
            #root {
                position: relative;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                margin: 0;
                padding: 0;
                height: 100%;
                width: 100%;
                -webkit-overflow-scrolling: touch;
            }

            * {
                box-sizing: border-box;
            }
        </style>
        <script src="../node_modules/@waves/signer/dist/signer.min.js"></script>
        <script src="../dist/provider-web.min.js"></script>
        <script>
            var url = location.href.includes('provider=exchange')
                ? 'https://waves.exchange/signer'
                : location.origin + '/iframe-entry';
            var node = location.href.includes('mainnet')
                ? 'https://nodes.wavesplatform.com'
                : 'https://pool.testnet.wavesnodes.com';

            var provider = new providerWeb.ProviderWeb(url);
            var waves = new signer.Signer({ NODE_URL: node });

            waves.setProvider(provider);

            var getByElement = function(element, key, defaultValue) {
                return element.dataset[key.toLowerCase()] || defaultValue;
            };

            /**
             * @param {HTMLElement} element
             */
            window.transfer = function(element) {
                return waves
                    .transfer({
                        amount: getByElement(element, 'amount', 1),
                        recipient: getByElement(element, 'recipient', 'merry'),
                        assetId: getByElement(element, 'assetId', null),
                        feeAssetId: getByElement(element, 'feeAssetId', undefined),
                        fee: getByElement(element, 'fee', undefined),
                        attachment: getByElement(element, 'attachment', ''),
                    })
                    .broadcast();
            };
        </script>
    </head>

    <body>
        <div style="margin-top: 200px;">
            <h2>
                Sign Set Asset Script
            </h2>
            <button onclick="waves.setAssetScript({
                assetId: '9FKPH2PVQXpe8cuHHJkMKJMxdCmFZrPZftZTkPzhYXtj',
                script: '12345678',
            }).broadcast()">
                set asset script
            </button>
        </div >
        <div>
            <h2>
                Sign Burn
            </h2>
            <button onclick="waves.burn({
                assetId: '9FKPH2PVQXpe8cuHHJkMKJMxdCmFZrPZftZTkPzhYXtj',
                quantity: '1',
            }).broadcast()">
                Burn
            </button>
        </div >
        <div>
            <h2>
                Sign Issue
            </h2>
            <button onclick="waves.issue({
                name: 'Name of Token',
                decimals: 2,
                quantity: 1000,
                reissuable: false,
                description: 'Description of token',
                script: 'base64:AAIDAAAAAAAAAAQIARIAAAAAAAAAAAEAAAABaQEAAAADZm9vAAAAAAkBAAAACFdyaXRlU2V0AAAAAQUAAAADbmlsAAAAACvwfcA='
            }).broadcast()">sign issue
            </button>
        </div>
            <h2>
                Sign massTransfer
            </h2>
            <button onclick="waves.massTransfer({
                assetId: 'BC2RVCn2NzoWM8s5MVr2Tns9EmcxL6guMgnDWy3Uj8nA',
                transfers: [
                    {
                        amount: 10,
                        recipient: 'merry'
                    },
                    {
                        amount: 20,
                        recipient: '3PCAB4sHXgvtu5NPoen6EXR5yaNbvsEA8Fj'
                    }
                ],
                attachment: '72k1xXWG59fYdzSNoA'
            }).broadcast()">
                massTransfer
            </button>
        </div >
        <div>
            <h1>Clear</h1>
            <button onclick="localStorage.clear()">Clear storage</button>
        </div>
        <div>
            <h1>Login</h1>
            <button onclick="waves.login();">Login</button>
        </div>
        <div>
            <h2>
                Transfer 1 Waves to Merry
            </h2>
            <div>
                <button
                    onclick="transfer(this);"
                    data-amount="10000000"
                    data-recipient="merry"
                >
                    Basic
                </button>
            </div>
            <div>
                <button
                    onclick="transfer(this);"
                    data-amount="10000000"
                    data-recipient="merry"
                    data-feeAssetId="DWgwcZTMhSvnyYCoWLRUXXSH1RSkzThXLJhww9gwkqdn"
                >
                    With custom Fee feeAssetId
                </button>
            </div>
            <div>
                <button
                    onclick="transfer(this);"
                    data-amount="10000000"
                    data-recipient="3PCAB4sHXgvtu5NPoen6EXR5yaNbvsEA8Fj"
                    data-fee="676767"
                >
                    With custom Fee amount
                </button>
            </div>
            <div>
                <button
                    onclick="transfer(this);"
                    data-amount="10000000"
                    data-recipient="3PCAB4sHXgvtu5NPoen6EXR5yaNbvsEA8Fj"
                    data-attachment="72k1xXWG59fYdzSNoA"
                >
                    By address With attachment
                </button>
            </div>
        </div>
        <div>
            <h2>Invoke</h2>
            <button
                onclick="waves.invoke({
        dApp: 'alias:T:merry',
        payment: [
            { assetId: null, amount: 1},
        ],
        call: { function: 'test', args: [
            { type: 'string', value: 'string' },
            { type: 'integer', value: 123123123 },
            { type: 'boolean', value: true },
            { type: 'binary', value: 'base64:AAIDAAAAAAAAAAQIARIAAAAAAAAAAAEAAAABaQEAAAADZm9vAAAAAAkBAAAACFdyaXRlU2V0AAAAAQUAAAADbmlsAAAAACvwfcA=' }
        ] },
        fee: 1000,
    }).broadcast();"
            >
                Invoke
            </button>
        </div>
        <div>
            <h2>
                Data
            </h2>
            <button
                onclick="waves.data({
        data: [
            { key: 'key1', value: 'world', type: 'string' },
            { key: 'key2', value: 'world', type: 'string' },
            { key: 'key3', value: 'world', type: 'string' },
            { key: 'AAAAAAAAAAAEAAAABaQEAAAADZm9v', value: 'world', type: 'string' },
            { key: 'key4', value: 123123123, type: 'integer' },
            { key: 'key5', value: true, type: 'boolean',},
        ]
    }).broadcast();"
            >
                Data
            </button>
        </div>
        <div>
            <h2>
                Sign Message
            </h2>
            <button
                onclick="waves.signMessage('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et lacinia augue. Nulla eu diam orci. Suspendisse dapibus porttitor tellus id mattis. Phasellus vitae condimentum justo. Maecenas et ultricies libero. Donec vitae lacus lectus. Cras sem felis, pretium sed lacinia ac, congue quis ipsum. Etiam eget auctor sapien, vel accumsan nisi. Aenean ac risus sit amet nulla lacinia ullamcorper ut ac nunc. Suspendisse potenti. Donec dolor diam, hendrerit in ligula cursus, vestibulum tristique mauris. Vestibulum vitae congue risus, quis placerat est.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et lacinia augue. Nulla eu diam orci. Suspendisse dapibus porttitor tellus id mattis. Phasellus vitae condimentum justo. Maecenas et ultricies libero. Donec vitae lacus lectus. Cras sem felis, pretium sed lacinia ac, congue quis ipsum. Etiam eget auctor sapien, vel accumsan nisi. Aenean ac risus sit amet nulla lacinia ullamcorper ut ac nunc. Suspendisse potenti. Donec dolor diam, hendrerit in ligula cursus, vestibulum tristique mauris. Vestibulum vitae congue risus, quis placerat est.')"
            >
                Sign Lorem ipsum dolor sit amet...
            </button>
        </div>
        <div>
            <h2>
                Sign Data
            </h2>
            <button
                onclick="waves.signTypedData([
                { key: 'BackChat', value: 'base64:BzWHaQUaGVsd29AAAAAAAA', type: 'string' },
                { key: 'CallingAllGirls', value: 'false', type: 'string' },
                { key: 'Jealousy', value: 'world', type: 'string' },
                { key: 'AAAAAAAAAAAEAAAABaQEAAAADZm9v', value: 'Oh Waves, Waves!', type: 'string' },
                { key: 'key', value: 123123123, type: 'integer' },
                { key: 'key', value: true, type: 'boolean' },
            ])"
            >Sign Data</button>
        </div>

        <div>
            <h2>
                Lease
            </h2>
            <button
                onclick="waves.lease({
                    amount: 677728840,
                    recipient: '3PCAB4sHXgvtu5NPoen6EXR5yaNbvsEA8Fj'
                }).broadcast()"
            >Lease
            </button>
            <button
                onclick="waves.lease({
                    amount: 677728840,
                    recipient: 'alias:T:merry'
                }).broadcast()"
            >Lease to Merry by alias
            </button>
        </div>

        <div>
            <h2>
                Sponsorship
            </h2>
            <button
                onclick="waves.sponsorship({
                    assetId: '8BrF9fVo2tDPGMdcx91EdTZLmwUDX7K7h1zs6txCpAAA',
                    minSponsoredAssetFee: 123
                }).broadcast()"
            >
                Sign Sponsorship Enable
            </button>

            <button
                onclick="waves.sponsorship({
                    assetId: '8BrF9fVo2tDPGMdcx91EdTZLmwUDX7K7h1zs6txCpAAA',
                    minSponsoredAssetFee: 0
                }).broadcast()"
            >
                Sign Sponsorship Disable
            </button>
        </div>

        <div>
            <h2>
                Cancel Lease
            </h2>
            <button
                onclick="waves.cancelLease({
                    leaseId: 'FUQasynBUELMXc9T1hrphfFwJvU2ENBiUfnJPci7jq4w',
                }).broadcast()"
            >Cancel Lease
            </button>
        </div>

        <div>
            <h2>
                Alias
            </h2>
            <button onclick="waves.alias({ alias: 'new_alias' }).broadcast()">
                Sign Alias
            </button>
        </div>

        <div>
            <h2>
                Reissue
            </h2>
            <button
                onclick="waves.reissue({
                    assetId: '6RHh59Tbt17QPvgaEu79DQsC5XyTqhBzpfB2FLV59ABU',
                    quantity: 100000000000,
                    reissuable: true
                }).broadcast()"
            >Sign Reissue</button>
        </div>

        <div>
            <h2>
                Account Script
            </h2>
            <button
                onclick="waves.setScript({
                    script: 'AgQAAAAEdGhpcwkBAAAAB2V4dHJhY3QAAAABCAUAAAACdHgAAAAGc2VuZGVyBAAAAAckbWF0Y2gwBQAAAAJ0eAMJAAABAAAAAgUAAAAHJG1hdGNoMAIAAAATVHJhbnNmZXJUcmFuc2FjdGlvbgQAAAABdAUAAAAHJG1hdGNoMAQAAAANY29ycmVjdEFuc3dlcgkBAAAAB2V4dHJhY3QAAAABCQAEHAAAAAIFAAAABHRoaXMCAAAADWhhc2hlZCBhbnN3ZXIEAAAABmFuc3dlcgkAAfUAAAABCAUAAAABdAAAAAphdHRhY2htZW50AwkAAAAAAAACBQAAAA1jb3JyZWN0QW5zd2VyBQAAAAZhbnN3ZXIJAQAAAAEhAAAAAQkBAAAACWlzRGVmaW5lZAAAAAEIBQAAAAF0AAAAB2Fzc2V0SWQHAwMJAAABAAAAAgUAAAAHJG1hdGNoMAIAAAAPRGF0YVRyYW5zYWN0aW9uBgkAAAEAAAACBQAAAAckbWF0Y2gwAgAAABRTZXRTY3JpcHRUcmFuc2FjdGlvbgQAAAABcwUAAAAHJG1hdGNoMAkAAfQAAAADCAUAAAABcwAAAAlib2R5Qnl0ZXMJAAGRAAAAAggFAAAAAXMAAAAGcHJvb2ZzAAAAAAAAAAAACAUAAAABcwAAAA9zZW5kZXJQdWJsaWNLZXkHnYrj7g==',
                }).broadcast();"
            >
                Set Script
            </button>
        </div>

        <div>
            <h2>
                Logout
            </h2>
            <button onclick="waves.logout();">
                Logout
            </button>
        </div>
    </body>

</html>
